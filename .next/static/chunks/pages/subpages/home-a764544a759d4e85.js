(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{8918:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subpages/home",function(){return t(9948)}])},9948:function(e,s,t){"use strict";t.r(s);var r=t(5893),a=t(7294),l=t(1163),n=t(4298),i=t.n(n),o=t(5675),c=t.n(o),d=t(1664),x=t.n(d),m=t(9367),u=t(9006),h=t(5340);s.default=()=>{let[e,s]=(0,a.useState)(0),[t,n]=(0,a.useState)("Anon"),o=(0,l.useRouter)();return(0,a.useEffect)(()=>{let e=async()=>{try{var e,t,r;console.log("Checking Telegram WebApp initialization..."),console.log(window.Telegram);let a=null===(r=window.Telegram)||void 0===r?void 0:null===(t=r.WebApp)||void 0===t?void 0:null===(e=t.initDataUnsafe)||void 0===e?void 0:e.user;if(console.log("User data fetched from Telegram:",a),a){n(a.username||"Anon");let e=await fetch("https://bern-db.onrender.com/api/ton-diamond/user/".concat(a.username)),t=await e.json();e.ok?s(t.score):console.error("Failed to fetch user data:",t.message)}else console.warn("No user data found in Telegram WebApp")}catch(e){console.error("Failed to fetch user data:",e)}};window.Telegram&&window.Telegram.WebApp?e():console.error("Telegram WebApp is not available")},[]),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(i(),{src:"https://telegram.org/js/telegram-web-app.js",strategy:"beforeInteractive"}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex justify-center items-start",children:(0,r.jsx)(c(),{src:"/diamond.png",alt:"Logo",width:100,height:100,className:"diamond mt-2 rounded-full"})}),(0,r.jsx)("div",{className:"font-semibold text-lg mt-2 text-black text-center",children:t})]}),(0,r.jsxs)("div",{className:"flex justify-center items-start mt-4",children:[(0,r.jsx)(c(),{src:"/diamond.png",alt:"Logo",width:30,height:30,className:"rounded-full"}),(0,r.jsx)("div",{className:"text-center my-auto text-black font-bold text-xl text-[#ff6ec7]",children:e})]}),(0,r.jsxs)("div",{className:"bg w-[90vw] rounded-md border-[#1F7DF1] border-2 py-5 mt-[80px]",children:[(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(c(),{src:"/diamond.png",alt:"Logo",width:30,height:30,className:"rounde"})}),(0,r.jsx)("div",{className:"mx-auto text-center w-[30vw] bg-[#1F7DF1] text-white my-2 font-semibold text-md py-2 rounded-full hover:bg-black cursor-pointer",onClick:()=>{o.push("/subpages/play")},children:"Play"})]}),(0,r.jsx)("div",{className:"mx-auto text-center w-[90vw] bg-[#1F7DF1] text-white font-semibold text-md py-2 rounded-md mt-8 hover:bg-black hover:text-white cursor-pointer",children:"Start Farming"})]}),(0,r.jsx)("div",{className:"bg-[#1F7DF1] text-white py-3 fixed bottom-0 left-0 w-full",children:(0,r.jsxs)("div",{className:"flex justify-around",children:[(0,r.jsx)(x(),{href:"/",children:(0,r.jsxs)("div",{className:"cursor-pointer flex flex-col items-center",children:[(0,r.jsx)(u.iB,{size:24}),(0,r.jsx)("span",{className:"text-[10px]",children:"Home"})]})}),(0,r.jsx)(x(),{href:"/subpages/task",children:(0,r.jsxs)("div",{className:"cursor-pointer flex flex-col items-center",children:[(0,r.jsx)(m.t5C,{size:24}),(0,r.jsx)("span",{className:"text-[10px]",children:"Tasks"})]})}),(0,r.jsx)(x(),{href:"/subpages/Frens",children:(0,r.jsxs)("div",{className:"cursor-pointer flex flex-col items-center",children:[(0,r.jsx)(h.TSD,{size:24}),(0,r.jsx)("span",{className:"text-[10px]",children:"Frens"})]})})]})})]})}},1163:function(e,s,t){e.exports=t(9090)}},function(e){e.O(0,[594,321,473,835,800,888,774,179],function(){return e(e.s=8918)}),_N_E=e.O()}]);